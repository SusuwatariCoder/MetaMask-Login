(function(e){function t(t){for(var n,o,c=t[0],s=t[1],u=t[2],l=0,p=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);i&&i(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),_()}function _(){for(var e,t=0;t<a.length;t++){for(var _=a[t],n=!0,c=1;c<_.length;c++){var s=_[c];0!==r[s]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=_[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var _=n[t]={i:t,l:!1,exports:{}};return e[t].call(_.exports,_,_.exports,o),_.l=!0,_.exports}o.m=e,o.c=n,o.d=function(e,t,_){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:_})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(o.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(_,n,function(t){return e[t]}.bind(null,n));return _},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var i=s;a.push([0,"chunk-vendors"]),_()})({0:function(e,t,_){e.exports=_("56d7")},"034f":function(e,t,_){"use strict";var n=_("85ec"),r=_.n(n);r.a},"4c3c":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_number_to_fixed__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_number_to_fixed__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__),D_app_Ldata_MetaMask_Login_source_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("1da1"),_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("f9f8"),_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_5__);__webpack_exports__["a"]={name:"MetaMask",props:{msg:String},data:function(){return{counter:0,connect:!1,provider:null,currentAccount:"游客",network:"断开连接",tokenCount:0}},created:function(){},mounted:function(){this.checkNetStatus()},methods:{checkMetaMask:function(){"undefined"!==typeof window.ethereum?(alert("MetaMask 已经安装!"),console.log("MetaMask 已经安装!")):alert("未安装 MetaMask！")},loginMetaMask:function(){var e=Object(D_app_Ldata_MetaMask_Login_source_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_5___default()();case 2:if(t=e.sent,!t){e.next=12;break}if(t!==window.ethereum){e.next=10;break}return e.next=7,t.request({method:"eth_requestAccounts"});case 7:this.connect=!0,this.checkNetStatus(),alert("连接成功！");case 10:e.next=13;break;case 12:console.log("请安装MetaMask！");case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleAccountsChanged:function(e){0===e.length?console.log("Please connect to MetaMask."):e[0]!==this.currentAccount&&(this.currentAccount=e[0],console.log(this.currentAccount),this.connect=!0)},checkNetStatus:function(){var e=Object(D_app_Ldata_MetaMask_Login_source_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_5___default()();case 2:t=e.sent,t.request({method:"eth_accounts"}).then(this.handleAccountsChanged).then(this.checkNetworkChain).catch((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkNetworkChain:function(){var e=Object(D_app_Ldata_MetaMask_Login_source_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__["a"])(regeneratorRuntime.mark((function e(){var t,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_5___default()();case 2:t=e.sent,_=t.chainId,"0x1"===_?this.network="Ethereum 主网":"0x2"===_?this.network="Expanse 测试网":"0x3"===_?this.network="Ropsten 测试网":"0x4"===_?this.network="Rinkeby 测试网":"0x5"===_?this.network="Goerli 测试网":"0x2a"===_?this.network="Kovan 测试网 ":"0x1337"===_?this.network="Geth private chains 私链网网":"undefined"===_&&(this.network="未知"),t.on("chainChanged",this.handleChainChanged);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleChainChanged:function(){window.location.reload()},getBalance:function(){var e=Object(D_app_Ldata_MetaMask_Login_source_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_metamask_detect_provider__WEBPACK_IMPORTED_MODULE_5___default()();case 2:t=e.sent,t.request({method:"eth_getBalance",params:[this.currentAccount,"latest"]}).then(this.updateBalance).catch((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateBalance:function updateBalance(data){this.tokenCount=(eval(data).toString(10)/Math.pow(10,18)).toFixed(4),console.log(this.tokenCount)}}}},"56d7":function(e,t,_){"use strict";_.r(t);_("e260"),_("e6cf"),_("cca6"),_("a79d");var n=_("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("img",{attrs:{src:_("cf05")}}),n("HelloWorld",{attrs:{msg:"MetaMask开发实例"}})],1)},a=[],o=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"hello"},[_("h1",[e._v(e._s(e.msg))]),_("h1",[e._v(e._s(e.currentAccount)+", 你好！")]),_("h2",[e._v("连接网络： "),_("span",[e._v(e._s(e.network))])]),_("h2",[e._v("账户余额: "),_("span",[e._v(e._s(e.tokenCount)+" ETH")])]),_("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){e.counter+=1,e.checkMetaMask()}}},[e._v("Web3浏览器检测")]),_("el-button",{attrs:{type:"warning",round:""},on:{click:function(t){return e.loginMetaMask()}}},[e._v("web3登录")]),_("el-button",{attrs:{type:"warning",round:""},on:{click:function(t){return e.getBalance()}}},[e._v("查询余额")]),_("ul",[e._m(0),_("li",[_("a",{attrs:{href:"#"}},[e._v("检测次数 "+e._s(e.counter))])]),e.connect?_("li",[_("a",{attrs:{href:"#"}},[e._v("已连接")])]):_("li",[_("a",{staticStyle:{color:"red"},attrs:{href:"#"}},[e._v("未连接")])])])],1)},c=[function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("li",[_("a",{attrs:{href:"https://metamask.io/",target:"_blank",rel:"noopener"}},[e._v("MetaMask安装")])])}],s=_("4c3c"),u=s["a"],i=(_("f6c0"),_("2877")),l=Object(i["a"])(u,o,c,!1,null,"2ece40fe",null),p=l.exports,d={name:"app",components:{HelloWorld:p}},f=d,h=(_("034f"),Object(i["a"])(f,r,a,!1,null,null,null)),m=h.exports,M=_("5c96"),E=_.n(M);_("c69f");n["default"].use(E.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,t,_){},c69f:function(e,t,_){},cf05:function(e,t,_){e.exports=_.p+"../img/logo.d1d2d5c7.png"},e590:function(e,t,_){},f6c0:function(e,t,_){"use strict";var n=_("e590"),r=_.n(n);r.a}});
//# sourceMappingURL=app.31ea8111.js.map